= Canary Routing Policy for Mule 4

== How this project was generated

.settings.xml
[source,xml]
----
<settings>
	<profiles>
		<profile>
			<id>archetype-repository</id>
			<repositories>
				<repository>
					<id>archetype</id>
					<name>Mule Repository</name>
					<url>https://repository-master.mulesoft.org/nexus/content/repositories/public</url>
					<releases>
						<enabled>true</enabled>
						<checksumPolicy>fail</checksumPolicy>
					</releases>
					<snapshots>
						<enabled>true</enabled>
						<checksumPolicy>warn</checksumPolicy>
					</snapshots>
				</repository>
				</repositories>
		</profile>
	</profiles>
</settings>
----

[source,bash]
----
mvn -Parchetype-repository archetype:generate \
  -DarchetypeGroupId=org.mule.tools -DarchetypeArtifactId=api-gateway-custom-policy-archetype -DarchetypeVersion=1.1.0 \
  -DgroupId=com.mulesoft.consulting.policy -DartifactId=canary-routing-policy -Dversion=1.0.0-SNAPSHOT \
  -Dpackage=mule-policy \
  -DpolicyName='Canary Routing' \
  -DpolicyDescription='An API policy for Mule 4 that allows an API proxy to support a canary release strategy by dynamically changing the API implementation to which incoming HTTP requests are routed.'
----
